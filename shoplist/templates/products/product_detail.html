{% extends 'base.html' %}

{% block content %}
<div class="row">
  <div class="col-md-6 mb-3">
    {% if product.image %}
      <img class="img-fluid rounded border" src="{{ product.image.url }}" alt="{{ product.name }}">
    {% else %}
      <div class="d-flex justify-content-center align-items-center border rounded" style="height:300px; background-color:#f8f9fa;">
        <span class="text-muted">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</span>
      </div>
    {% endif %}
  </div>

  <div class="col-md-6">
    <h3 class="mb-3 fw-bold">{{ product.name }}</h3>
    <p class="lead"><strong>–¶–µ–Ω–∞ –æ—Ç {{ product.price }}</strong> ‚ÇΩ</p>
    <p>{{ product.description|linebreaks }}</p>

    <h6 class="fw-semibold mt-3">–ì–¥–µ –∫—É–ø–∏—Ç—å:</h6>
    {% if product.shop_addresses %}
      <ul class="list-unstyled">
        {% for addr in product.shop_addresses %}
          <li>üìç {{ addr }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-muted">–ê–¥—Ä–µ—Å–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</p>
    {% endif %}

    {% if user.is_authenticated and user.is_sales_executive or user.is_admin %}
      <div class="d-flex gap-2 mt-3">
        <a class="btn btn-primary" href="{% url 'product_update' product.pk %}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
        <a class="btn btn-outline-danger" href="{% url 'product_delete' product.pk %}">–£–¥–∞–ª–∏—Ç—å</a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}